{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="{% block meta_description %}A personal blog{% endblock %}">
    <title>{% block title %}Blog{% endblock %}</title>

    <!-- Google Fonts - Inter & Playfair Display -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&family=Playfair+Display:ital,wght@0,400;0,500;1,400&display=swap"
        rel="stylesheet">

    <!-- Custom Styles -->
    <link href="{% static 'assets/css/custom.css' %}" rel="stylesheet">

    {% block styles %}{% endblock %}
</head>

<body>
    {% include 'base/partials/header.html' %}

    <main>
        {% block content %}{% endblock %}
    </main>

    {% include 'base/partials/footer.html' %}

    <!-- Minimal JS for scroll effects -->
    <script>
        // Header scroll effect
        const header = document.querySelector('.header');

        // Scroll-based effects
        let ticking = false;

        function updateOnScroll() {
            const scrollY = window.scrollY;
            const docHeight = document.documentElement.scrollHeight - window.innerHeight;
            const scrollProgress = Math.min(scrollY / Math.max(docHeight, 1), 1);

            // Header state
            if (header) {
                if (scrollY > 50) {
                    header.classList.add('header--scrolled');
                } else {
                    header.classList.remove('header--scrolled');
                }
            }

            // Subtle gradient shift based on scroll position
            const hueShift = scrollProgress * 15; // Subtle 0-15 degree shift
            const satShift = 1 + (scrollProgress * 0.1); // Slight saturation increase
            document.body.style.setProperty('--scroll-hue', hueShift + 'deg');
            document.body.style.setProperty('--scroll-opacity', 0.6 + (scrollProgress * 0.2));

            ticking = false;
        }

        window.addEventListener('scroll', () => {
            if (!ticking) {
                requestAnimationFrame(updateOnScroll);
                ticking = true;
            }
        });

        // Initial call
        updateOnScroll();
    </script>

    {% block js %}{% endblock %}
</body>

</html>